bplist00Ò_WebMainResource_WebSubresourcesÕ	
_WebResourceMIMEType_WebResourceTextEncodingName^WebResourceURL_WebResourceFrameName_WebResourceDataYtext/htmlUUTF-8_jhttp://xiangwangfeng.com/2014/11/29/NSURLProtocol-%E5%92%8CNSRunLoop%E7%9A%84-%E9%82%A3%E4%BA%9B%E5%9D%91/POi"<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      NSURLProtocol å’Œ NSRunLoop çš„é‚£äº›å‘ Â· é˜¿æ¯›çš„è›‹ç–¼åœ°
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Icons -->
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0d">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>é˜¿æ¯›çš„è›‹ç–¼åœ°</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    
      
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    


    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      Â© 2017. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">é˜¿æ¯›çš„è›‹ç–¼åœ°</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">NSURLProtocol å’Œ NSRunLoop çš„é‚£äº›å‘</h1>
  <span class="post-date">29 Nov 2014</span>
  <p>æœ€è¿‘ç”¨ AFNetworking æ›¿æ¢æ‰äº†å·¥ç¨‹é‡Œçš„ ASIHttpRequestï¼Œç»“æœé™†ç»­ç¢°åˆ°å¾ˆå¤šé—®é¢˜ï¼š</p>

<ul>
  <li>å¦‚ä½•ç»Ÿä¸€åœ°æ·»åŠ å…¨å±€çš„ HTTP å¤´(ä¸ä»…ä»…æ˜¯ UA è€Œå·²)</li>
  <li>å¦‚ä½•ä¼˜é›…åœ°è¿›è¡Œæµé‡ç»Ÿè®¡</li>
  <li>å¯¹ç‰¹å®šçš„åœ°å€è¿›è¡Œ CDN åŠ é€Ÿ( URL åˆ° IP çš„æ›¿æ¢)</li>
  <li>æ€ä¹ˆå®ç° HTTP çš„åŒæ­¥è¯·æ±‚</li>
</ul>

<p>å‰ä¸‰ä¸ªéœ€æ±‚å¯¹äº ASIHttpReqeust æ¥è¯´éƒ½ä¸æ˜¯é—®é¢˜ï¼Œåªéœ€è¦åœ¨å‡ ä¸ªç»Ÿä¸€çš„ç‚¹è¿›è¡Œä¿®æ”¹å³å¯ã€‚è€Œä½¿ç”¨ AFNetworking åå°±æ²¡æœ‰é‚£ä¹ˆå®¹æ˜“äº†ï¼šä¸€æ–¹é¢ AFNetworking ä¸­ç”Ÿæˆ NSURLRequest çš„ç‚¹æ¯”è¾ƒå¤šï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„è·¯å¾„ã€‚å…¶æ¬¡å·¥ç¨‹ä¸­ä¼šæœ‰éƒ¨åˆ†ç›´æ¥ä½¿ç”¨ NSURLConnecion çš„åœºæ™¯ï¼Œæ— æ³•ç»Ÿä¸€ã€‚ç»<a href="http://msching.github.io/">cyzju</a>æé†’å‘ç°äº† NSURLProtocol è¿™ä¸ªå¤§æ€å™¨ï¼Œå¯æƒœå¯¹åº”çš„æ–‡æ¡£è¿‡äºç®€ç•¥ï¼Œå”¯ä¸€æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»å°±åªæœ‰<a href="http://www.raywenderlich.com/59982/nsurlprotocol-tutorial">RWçš„è¿™ç¯‡æ•™ç¨‹</a>è€Œå·²ï¼Œæ‰äº†å¾ˆå¤šå‘ï¼Œå€¼å¾—è®°ä¸Šä¸€ç¬”ã€‚</p>

<h1 id="nsurlprotocol">NSURLProtocol</h1>

<h2 id="æ¦‚å¿µ">æ¦‚å¿µ</h2>

<p>NSURLProtocol ä¹Ÿæ˜¯è‹¹æœä¼—å¤šé»‘é­”æ³•ä¸­çš„ä¸€ç§ï¼Œä½¿ç”¨å®ƒå¯ä»¥è½»æ¾åœ°é‡å®šä¹‰æ•´ä¸ª URL Loading Systemã€‚å½“ä½ æ³¨å†Œè‡ªå®šä¹‰ NSURLProtocol åï¼Œå°±æœ‰æœºä¼šå¯¹æ‰€æœ‰çš„è¯·æ±‚è¿›è¡Œç»Ÿä¸€çš„å¤„ç†ï¼ŒåŸºäºè¿™ä¸€ç‚¹å®ƒå¯ä»¥è®©ä½ </p>

<ul>
  <li>è‡ªå®šä¹‰è¯·æ±‚å’Œå“åº”</li>
  <li>æä¾›è‡ªå®šä¹‰çš„å…¨å±€ç¼“å­˜æ”¯æŒ</li>
  <li>é‡å®šå‘ç½‘ç»œè¯·æ±‚</li>
  <li>æä¾› HTTP Mocking (æ–¹ä¾¿å‰æœŸæµ‹è¯•)</li>
  <li>å…¶ä»–ä¸€äº›å…¨å±€çš„ç½‘ç»œè¯·æ±‚ä¿®æ”¹éœ€æ±‚</li>
</ul>

<h2 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</h2>

<h3 id="ç»§æ‰¿-nsurlporotoclå¹¶æ³¨å†Œä½ çš„-nsurlprotocol">ç»§æ‰¿ NSURLPorotoclï¼Œå¹¶æ³¨å†Œä½ çš„ NSURLProtocol</h3>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="p">[</span><span class="n">NSURLProtocol</span> <span class="nf">registerClass</span><span class="p">:[</span><span class="n">YXURLProtocol</span> <span class="nf">class</span><span class="p">]];</span></code></pre></figure>

<p>å½“ NSURLConnection å‡†å¤‡å‘èµ·è¯·æ±‚æ—¶ï¼Œå®ƒä¼šéå†æ‰€æœ‰å·²æ³¨å†Œçš„ NSURLProtocolï¼Œè¯¢é—®å®ƒä»¬èƒ½å¦å¤„ç†å½“å‰è¯·æ±‚ã€‚æ‰€ä»¥ä½ éœ€è¦å°½æ—©æ³¨å†Œè¿™ä¸ªProtocolã€‚</p>

<h3 id="å®ç°-nsurlprotocol-çš„ç›¸å…³æ–¹æ³•">å®ç° NSURLProtocol çš„ç›¸å…³æ–¹æ³•</h3>

<p>å½“éå†åˆ°æˆ‘ä»¬è‡ªå®šä¹‰çš„ NSURLProtocol æ—¶ï¼Œç³»ç»Ÿå…ˆä¼šè°ƒç”¨ canInitWithRequest: è¿™ä¸ªæ–¹æ³•ã€‚é¡¾åæ€ä¹‰ï¼Œè¿™æ˜¯æ•´ä¸ªæµç¨‹çš„å…¥å£ï¼Œåªæœ‰è¿™ä¸ªæ–¹æ³•è¿”å› YES æˆ‘ä»¬æ‰èƒ½å¤Ÿç»§ç»­åç»­çš„å¤„ç†ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•çš„å®ç°é‡Œé¢è¿›è¡Œè¯·æ±‚çš„è¿‡æ»¤ï¼Œç­›é€‰å‡ºéœ€è¦è¿›è¡Œå¤„ç†çš„è¯·æ±‚ã€‚</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="k">+</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">canInitWithRequest</span><span class="p">:(</span><span class="n">NSURLRequest</span> <span class="o">*</span><span class="p">)</span><span class="nv">request</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">([</span><span class="n">NSURLProtocol</span> <span class="nf">propertyForKey</span><span class="p">:</span><span class="n">YXURLProtocolHandled</span> <span class="nf">inRequest</span><span class="p">:</span><span class="n">request</span><span class="p">])</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">NO</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">NSString</span> <span class="o">*</span><span class="n">scheme</span> <span class="o">=</span> <span class="p">[[</span><span class="n">request</span> <span class="nf">URL</span><span class="p">]</span> <span class="nf">scheme</span><span class="p">];</span>
    <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">dict</span> <span class="o">=</span> <span class="p">[</span><span class="n">request</span> <span class="nf">allHTTPHeaderFields</span><span class="p">];</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">dict</span> <span class="nf">objectForKey</span><span class="p">:</span><span class="s">@"custom_header"</span><span class="p">]</span> <span class="o">==</span> <span class="nb">nil</span> <span class="o">&amp;&amp;</span>
    <span class="p">([</span><span class="n">scheme</span> <span class="nf">caseInsensitiveCompare</span><span class="p">:</span><span class="s">@"http"</span><span class="p">]</span> <span class="o">==</span> <span class="n">NSOrderedSame</span> <span class="o">||</span>
     <span class="p">[</span><span class="n">scheme</span> <span class="nf">caseInsensitiveCompare</span><span class="p">:</span><span class="s">@"https"</span><span class="p">]</span> <span class="o">==</span> <span class="n">NSOrderedSame</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>å½“ç­›é€‰å‡ºéœ€è¦å¤„ç†çš„è¯·æ±‚åï¼Œå°±å¯ä»¥è¿›è¡Œåç»­çš„å¤„ç†ï¼Œéœ€è¦è‡³å°‘å®ç°å¦‚ä¸‹ 4 ä¸ªæ–¹æ³•</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="k">+</span> <span class="p">(</span><span class="n">NSURLRequest</span> <span class="o">*</span><span class="p">)</span><span class="nf">canonicalRequestForRequest</span><span class="p">:(</span><span class="n">NSURLRequest</span> <span class="o">*</span><span class="p">)</span><span class="nv">request</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">request</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">+</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">requestIsCacheEquivalent</span><span class="p">:(</span><span class="n">NSURLRequest</span> <span class="o">*</span><span class="p">)</span><span class="nv">a</span>
                       <span class="nf">toRequest</span><span class="p">:(</span><span class="n">NSURLRequest</span> <span class="o">*</span><span class="p">)</span><span class="nv">b</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">super</span> <span class="nf">requestIsCacheEquivalent</span><span class="p">:</span><span class="n">a</span> <span class="nf">toRequest</span><span class="p">:</span><span class="n">b</span><span class="p">];</span>
<span class="p">}</span>


<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">startLoading</span>
<span class="p">{</span>
    <span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">mutableReqeust</span> <span class="o">=</span> <span class="p">[[</span><span class="n">self</span> <span class="nf">request</span><span class="p">]</span> <span class="nf">mutableCopy</span><span class="p">];</span>
    <span class="p">[</span><span class="n">YXURLProtocol</span> <span class="nf">applyCustomHeaders</span><span class="p">:</span><span class="n">mutableReqeust</span><span class="p">];</span>
    <span class="p">[</span><span class="n">NSURLProtocol</span> <span class="nf">setProperty</span><span class="p">:</span><span class="err">@</span><span class="p">(</span><span class="nb">YES</span><span class="p">)</span>
                        <span class="nf">forKey</span><span class="p">:</span><span class="n">YXURLProtocolHandled</span>
                     <span class="n">inRequest</span><span class="o">:</span><span class="n">mutableReqeust</span><span class="p">];</span>
    
    <span class="n">self</span><span class="p">.</span><span class="n">connection</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLConnection</span> <span class="nf">connectionWithRequest</span><span class="p">:</span><span class="n">mutableReqeust</span>
                                                    <span class="nf">delegate</span><span class="p">:</span><span class="n">self</span><span class="p">];</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">stopLoading</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">connection</span> <span class="nf">cancel</span><span class="p">];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">connection</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<ul>
  <li>canonicalRequestForRequest: è¿”å›è§„èŒƒåŒ–åçš„ request ,ä¸€èˆ¬å°±åªæ˜¯è¿”å›å½“å‰request å³å¯ã€‚</li>
  <li>requestIsCacheEquivalent:toRequest: ç”¨äºåˆ¤æ–­ä½ çš„è‡ªå®šä¹‰reqeustæ˜¯å¦ç›¸åŒï¼Œè¿™é‡Œè¿”å›é»˜è®¤å®ç°å³å¯ã€‚å®ƒçš„ä¸»è¦åº”ç”¨åœºæ™¯æ˜¯æŸäº›ç›´æ¥ä½¿ç”¨ç¼“å­˜è€Œéå†æ¬¡è¯·æ±‚ç½‘ç»œçš„åœ°æ–¹ã€‚</li>
  <li>startLoadingå’ŒstopLoading å®ç°è¯·æ±‚å’Œå–æ¶ˆæµç¨‹ã€‚</li>
</ul>

<h3 id="å®ç°-nsurlconnectiondelegate-å’Œ-nsurlconnectiondatadelegate">å®ç° NSURLConnectionDelegate å’Œ NSURLConnectionDataDelegate</h3>

<p>å› ä¸ºåœ¨ç¬¬äºŒæ­¥ä¸­æˆ‘ä»¬æ¥ç®¡äº†æ•´ä¸ªè¯·æ±‚è¿‡ç¨‹ï¼Œæ‰€ä»¥éœ€è¦å®ç°ç›¸åº”çš„åè®®å¹¶ä½¿ç”¨NSURLProtocolClientå°†æ¶ˆæ¯å›ä¼ ç»™URL Loading Systemã€‚åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­æ¨èå®ç°æ‰€æœ‰åè®®ã€‚</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">connection</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
  <span class="nf">didFailWithError</span><span class="p">:(</span><span class="n">NSError</span> <span class="o">*</span><span class="p">)</span><span class="nv">error</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">client</span> <span class="nf">URLProtocol</span><span class="p">:</span><span class="n">self</span>
            <span class="nf">didFailWithError</span><span class="p">:</span><span class="n">error</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSURLRequest</span> <span class="o">*</span><span class="p">)</span><span class="nf">connection</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span> <span class="nf">willSendRequest</span><span class="p">:(</span><span class="n">NSURLRequest</span> <span class="o">*</span><span class="p">)</span><span class="nv">request</span> <span class="nf">redirectResponse</span><span class="p">:(</span><span class="n">NSURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="nv">response</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">response</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="p">[[</span><span class="n">self</span> <span class="nf">client</span><span class="p">]</span> <span class="nf">URLProtocol</span><span class="p">:</span><span class="n">self</span> <span class="nf">wasRedirectedToRequest</span><span class="p">:</span><span class="n">request</span> <span class="n">redirectResponse</span><span class="o">:</span><span class="n">response</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">request</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">connectionShouldUseCredentialStorage</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">connection</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
<span class="nf">didReceiveAuthenticationChallenge</span><span class="p">:(</span><span class="n">NSURLAuthenticationChallenge</span> <span class="o">*</span><span class="p">)</span><span class="nv">challenge</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">client</span> <span class="nf">URLProtocol</span><span class="p">:</span><span class="n">self</span>
<span class="nf">didReceiveAuthenticationChallenge</span><span class="p">:</span><span class="n">challenge</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">connection</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
<span class="nf">didCancelAuthenticationChallenge</span><span class="p">:(</span><span class="n">NSURLAuthenticationChallenge</span> <span class="o">*</span><span class="p">)</span><span class="nv">challenge</span> 
<span class="p">{</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">client</span> <span class="nf">URLProtocol</span><span class="p">:</span><span class="n">self</span>
<span class="nf">didCancelAuthenticationChallenge</span><span class="p">:</span><span class="n">challenge</span><span class="p">];</span>
<span class="p">}</span>


<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">connection</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
<span class="nf">didReceiveResponse</span><span class="p">:(</span><span class="n">NSURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="nv">response</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">client</span> <span class="nf">URLProtocol</span><span class="p">:</span><span class="n">self</span>
          <span class="nf">didReceiveResponse</span><span class="p">:</span><span class="n">response</span>
          <span class="nl">cacheStoragePolicy:</span><span class="n">NSURLCacheStorageAllowed</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">connection</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
    <span class="nf">didReceiveData</span><span class="p">:(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nv">data</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">client</span> <span class="nf">URLProtocol</span><span class="p">:</span><span class="n">self</span>
                 <span class="nf">didLoadData</span><span class="p">:</span><span class="n">data</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSCachedURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="nf">connection</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
                  <span class="nf">willCacheResponse</span><span class="p">:(</span><span class="n">NSCachedURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="nv">cachedResponse</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">cachedResponse</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">connectionDidFinishLoading</span><span class="p">:(</span><span class="n">NSURLConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">client</span> <span class="nf">URLProtocolDidFinishLoading</span><span class="p">:</span><span class="n">self</span><span class="p">];</span>
<span class="p">}</span></code></pre></figure>

<p>åœ¨æ¯ä¸ªdelgateçš„å®ç°ä¸­æˆ‘éƒ½åˆ¨å»äº†å·¥ç¨‹ä¸­çš„ç‰¹å®šå®ç°(æµé‡ç»Ÿè®¡)ï¼Œåªä¿ç•™äº†éœ€è¦å®ç°çš„æœ€å°Protocolé›†åˆã€‚</p>

<h2 id="nsurlprotocol-é‚£äº›å‘">NSURLProtocol é‚£äº›å‘</h2>

<p>ä»ä¸Šé¢çš„ä»‹ç»æ¥çœ‹ï¼ŒNSURLProtocol è¿˜æ˜¯æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å®é™…ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å´å®¹æ˜“æ‰è¿›å„ç§å‘ï¼Œä¸€æ–¹é¢æ˜¯æ–‡æ¡£ä¸å¤Ÿè¯¦å°½ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿæ˜¯å¯¹äºè‹¹æœè¿™å¥— URL Loading Sytem å¹¶ä¸ç†Ÿæ‚‰ï¼Œä¸èƒ½å°†æ•´ä¸ªè°ƒç”¨è¿‡ç¨‹æœ‰æœºåœ°ç»Ÿä¸€ã€‚</p>

<ul>
  <li>å‘1ï¼šä¼å›¾åœ¨canonicalRequestForRequest: è¿›è¡Œ request çš„è‡ªå®šä¹‰æ“ä½œï¼Œå¯¼è‡´å„ç§é€’å½’è°ƒç”¨å¯¼è‡´è¿æ¥è¶…æ—¶ã€‚è¿™ä¸ªAPI çš„è¡¨è¿°å…¶å®å¾ˆæš§æ˜§:</li>
</ul>

<p><strong>It is up to each concrete protocol implementation to define what â€œcanonicalâ€ means. A protocol should guarantee that the same input request always yields the same canonical form.</strong></p>

<p>æ‰€è°“çš„ canonical form åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè€Œå›´è§‚äº†åŒ…æ‹¬ <a href="https://github.com/mattt/NSEtcHosts">NSEtcHosts</a> å’Œ <a href="https://github.com/rnapier/RNCachingURLProtocol">RNCachingURLProtocol</a> åœ¨å†…çš„å®ç°ï¼Œå®ƒä»¬éƒ½æ˜¯ç›´æ¥è¿”å›å½“å‰requestã€‚åœ¨è¿™ä¸ªæ–¹æ³•å†…è¿›è¡Œ request çš„ä¿®æ”¹éå¸¸å®¹æ˜“å¯¼è‡´é€’å½’è°ƒç”¨(å³ä½¿é€šè¿‡setProperty:forKey:inRequest:å¯¹è¯·æ±‚æ‰“äº†æ ‡è®°)</p>

<ul>
  <li>å‘2ï¼šæ²¡æœ‰å®ç°è¶³å¤Ÿçš„å›è°ƒæ–¹æ³•å¯¼è‡´å„ç§å¥‡è‘©é—®é¢˜ã€‚å¦‚connection:willSendRequest:redirectResponse:
å†…å¦‚æœæ²¡æœ‰é€šè¿‡ [self client] å›ä¼ æ¶ˆæ¯ï¼Œé‚£ä¹ˆéœ€è¦é‡å®šå‘çš„ç½‘é¡µå°±ä¼šå‡ºç°é—®é¢˜: host ä¸å¯¹æˆ–è€…é€ æˆè·¨åŸŸè°ƒç”¨å¯¼è‡´èµ„æºæ— æ³•åŠ è½½ã€‚</li>
</ul>

<h1 id="åŒæ­¥-afnetworking-è¯·æ±‚">åŒæ­¥ AFNetworking è¯·æ±‚</h1>

<p>è™½ç„¶ Mattt å„ç§é„™è§†åŒæ­¥åšç½‘ç»œè¯·æ±‚ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¯å¦è®¤æŸäº›åœºæ™¯ä¸‹ä½¿ç”¨åŒæ­¥è°ƒç”¨ä¼šå¸¦æ¥ä¸å°‘ä¾¿åˆ©ã€‚ä¸€ç§æ¯”è¾ƒç®€å•çš„å®ç°æ˜¯ä½¿ç”¨ä¿¡å·é‡åšåŒæ­¥ï¼š</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="k">@implementation</span> <span class="nc">AFHTTPRequestOperation</span> <span class="p">(</span><span class="nl">YX</span><span class="p">)</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">yxStartSynchronous</span>
<span class="p">{</span>
    <span class="n">dispatch_semaphore_t</span> <span class="n">semaphore</span> <span class="o">=</span> <span class="n">dispatch_semaphore_create</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="p">[</span><span class="n">self</span> <span class="nf">setCompletionBlockWithSuccess</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">AFHTTPRequestOperation</span> <span class="o">*</span><span class="n">operation</span><span class="p">,</span> <span class="n">id</span> <span class="n">responseObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">dispatch_semaphore_signal</span><span class="p">(</span><span class="n">semaphore</span><span class="p">);</span>
    <span class="p">}</span> <span class="nf">failure</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">AFHTTPRequestOperation</span> <span class="o">*</span><span class="n">operation</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">dispatch_semaphore_signal</span><span class="p">(</span><span class="n">semaphore</span><span class="p">);</span>
    <span class="p">}];</span>
    <span class="p">[</span><span class="n">self</span> <span class="nf">start</span><span class="p">];</span>
    <span class="n">dispatch_semaphore_wait</span><span class="p">(</span><span class="n">semaphore</span><span class="p">,</span> <span class="n">DISPATCH_TIME_FOREVER</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">@end</span></code></pre></figure>

<p>ä½†æ˜¯è¿™æ ·å¸¦æ¥çš„é—®é¢˜æ˜¯åœ¨ UI çº¿ç¨‹è°ƒç”¨åŒæ­¥è¯·æ±‚å°±ä¼šå¯¼è‡´çº¿ç¨‹å µæ­»å´©æºƒ(å¥½å§ï¼Œå°±ä¸åº”è¯¥å…è®¸ UIçº¿ ç¨‹ä¸Šè¿™ä¹ˆåš)ã€‚ä¸€ç§æ”¹è¿›çš„æ–¹æ³•æ˜¯ä½¿ç”¨ NSRunLoop</p>

<p>å³ï¼š</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc">    <span class="k">while</span> <span class="p">(</span><span class="n">_shouldBlock</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="p">[[</span><span class="n">NSRunLoop</span> <span class="nf">currentRunLoop</span><span class="p">]</span> <span class="nf">runMode</span><span class="p">:</span><span class="n">NSDefaultRunLoopMode</span>
                                 <span class="nf">beforeDate</span><span class="p">:[</span><span class="n">NSDate</span> <span class="nf">laterDate</span><span class="p">]];</span>
   <span class="p">}</span></code></pre></figure>

<p>ä½†æ˜¯è¿™ç§å†™æ³•æ˜¯æœ‰<strong>å¤§å‘</strong>çš„ï¼šå¦‚æœå½“å‰ NSRunLoop å¹¶æ²¡æœ‰ä»»ä½• NSTimer æˆ– Input Sourceï¼ŒrunMode:beforeDate: æ–¹æ³•å°†ç«‹åˆ»è¿”å› NOï¼Œäºæ˜¯é€ æˆæ­»å¾ªç¯ï¼Œå ç”¨å¤§é‡CPUï¼Œè¿›è€Œå¯¼è‡´ NSURLConnection è¯·æ±‚è¶…æ—¶ã€‚ è§„é¿çš„æ–¹æ³•æ˜¯å¾€ RunLoop ä¸­æ·»åŠ  NSTimer æˆ–è€…ç©ºNSPort ä½¿å¾— NSRunLoop æŒ‚èµ·è€Œä¸å ç”¨ CPUã€‚(ASIHttpRequest åˆ™æ˜¯åœ¨å½“å‰ RunLoop ä¸­æ·»åŠ äº† 0.25 ç§’è§¦å‘ä¸€æ¬¡çš„åˆ·æ–° Timer)</p>

<p><strong>If no input sources or timers are attached to the run loop, this method exits immediately and returns NO; otherwise, it returns after either the first input source is processed or limitDate is reached. Manually removing all known input sources and timers from the run loop does not guarantee that the run loop will exit immediately. OS X may install and remove additional input sources as needed to process requests targeted at the receiverâ€™s thread. Those sources could therefore prevent the run loop from exiting.</strong></p>


</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2017/07/30/%E4%B8%BA%E4%BB%80%E4%B9%88%E5%9B%BD%E4%BA%A7-SDK-%E4%BA%A7%E5%93%81%E6%80%BB%E6%98%AF%E8%BF%99%E4%B9%88%E7%83%82/">
            ä¸ºä»€ä¹ˆå›½äº§ SDK äº§å“æ€»æ˜¯è¿™ä¹ˆçƒ‚
            <small>30 Jul 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/05/19/NSError-NSLocalizedDescription-%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90/">
            NSError NSLocalizedDescription è‡ªåŠ¨ç”Ÿæˆ
            <small>19 May 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/03/16/IGListKit-diff-%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%9E%90/">
            IGListKit diff å®ç°ç®€æ
            <small>16 Mar 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  

</body></html>¤Õ_WebResourceResponseXtext/cssUutf-8_-http://xiangwangfeng.com/public/css/poole.cssO¡bplist00ÔklX$versionX$objectsY$archiverT$top † ¯ #)*0123MNOPQRSTUVWXYZ[\]^_`aefU$nullİ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_-http://xiangwangfeng.com/public/css/poole.cssÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¿˜G!Xy ÈÓ456ALWNS.keysZNS.objectsª789:;<=>?@€	€
€€€€€€€€ªBCDEFGHIJK€€€€€€€€€€€VServer\Content-TypeWExpires]Last-Modified_Transfer-EncodingTDate_Content-Encoding_X-GitHub-Request-Id]Cache-Control_Access-Control-Allow-OriginZGitHub.com_text/css; charset=utf-8_Thu, 19 Oct 2017 02:45:22 GMT_Tue, 17 Oct 2017 05:27:12 GMTXIdentity_Thu, 19 Oct 2017 02:35:22 GMTTgzip_"1F04:16E8:7FE1FEF:BF72100:59E80F6A[max-age=600Q*Ò+,bc_NSMutableDictionary£bd/\NSDictionaryXtext/cssÒ+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑmn_WebResourceResponse€    # - 2 7 Z ` { ~ ‚ … ˆ ‹  ’ ™ œ Ÿ ¢ ¥ ¨ ª ¬ ® ° ² ³ µ · ¹ » ½ ¿ Á È Ğ Ü Ş à â"+14=FHJQYdoqsuwy{}ƒ’”–˜šœ ¢¤«¸ÀÎâçú<Ga¡ªÊÏô !.7<PThvˆ‹¡             o              £OĞ/*
 *                        ___
 *                       /\_ \
 *  _____     ___     ___\//\ \      __
 * /\ '__`\  / __`\  / __`\\ \ \   /'__`\
 * \ \ \_\ \/\ \_\ \/\ \_\ \\_\ \_/\  __/
 *  \ \ ,__/\ \____/\ \____//\____\ \____\
 *   \ \ \/  \/___/  \/___/ \/____/\/____/
 *    \ \_\
 *     \/_/
 *
 * Designed, built, and released under MIT license by @mdo. Learn more at
 * https://github.com/poole/poole.
 */


/*
 * Contents
 *
 * Body resets
 * Custom type
 * Messages
 * Container
 * Masthead
 * Posts and pages
 * Pagination
 * Reverse layout
 * Themes
 */


/*
 * Body resets
 *
 * Update the foundational and global aspects of the page.
 */

* {
  -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
          box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
}

html {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 16px;
  line-height: 1.6;
}
@media (min-width: 38em) {
  html {
    font-size: 18px;
  }
}

body {
  color: #515151;
  background-color: #fff;
  -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
}

/* No `:visited` state is required by default (browsers will use `a`) */
a {
  color: #268bd2;
  text-decoration: none;
}
a strong {
  color: inherit;
}
/* `:focus` is linked to `:hover` for basic accessibility */
a:hover,
a:focus {
  text-decoration: underline;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  margin-bottom: .5rem;
  font-weight: bold;
  line-height: 1.25;
  color: #313131;
  text-rendering: optimizeLegibility;
}
h1 {
  font-size: 2rem;
}
h2 {
  margin-top: 1rem;
  font-size: 1.5rem;
}
h3 {
  margin-top: 1.5rem;
  font-size: 1.25rem;
}
h4, h5, h6 {
  margin-top: 1rem;
  font-size: 1rem;
}

/* Body text */
p {
  margin-top: 0;
  margin-bottom: 1rem;
}

strong {
  color: #303030;
}


/* Lists */
ul, ol, dl {
  margin-top: 0;
  margin-bottom: 1rem;
}

dt {
  font-weight: bold;
}
dd {
  margin-bottom: .5rem;
}

/* Misc */
hr {
  position: relative;
  margin: 1.5rem 0;
  border: 0;
  border-top: 1px solid #eee;
  border-bottom: 1px solid #fff;
}

abbr {
  font-size: 85%;
  font-weight: bold;
  color: #555;
  text-transform: uppercase;
}
abbr[title] {
  cursor: help;
  border-bottom: 1px dotted #e5e5e5;
}

/* Code */
code,
pre {
  font-family: Menlo, Monaco, "Courier New", monospace;
}
code {
  padding: .25em .5em;
  font-size: 85%;
  color: #bf616a;
  background-color: #f9f9f9;
  border-radius: 3px;
}
pre {
  display: block;
  margin-top: 0;
  margin-bottom: 1rem;
  padding: 1rem;
  font-size: .8rem;
  line-height: 1.4;
  white-space: pre;
  white-space: pre-wrap;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f9f9f9;
}
pre code {
  padding: 0;
  font-size: 100%;
  color: inherit;
  background-color: transparent;
}

/* Pygments via Jekyll */
.highlight {
  margin-bottom: 1rem;
  border-radius: 4px;
}
.highlight pre {
  margin-bottom: 0;
}

/* Gist via GitHub Pages */
.gist .gist-file {
  font-family: Menlo, Monaco, "Courier New", monospace !important;
}
.gist .markdown-body {
  padding: 15px;
}
.gist pre {
  padding: 0;
  background-color: transparent;
}
.gist .gist-file .gist-data {
  font-size: .8rem !important;
  line-height: 1.4;
}
.gist code {
  padding: 0;
  color: inherit;
  background-color: transparent;
  border-radius: 0;
}

/* Quotes */
blockquote {
  padding: .5rem 1rem;
  margin: .8rem 0;
  color: #7a7a7a;
  border-left: .25rem solid #e5e5e5;
}
blockquote p:last-child {
  margin-bottom: 0;
}
@media (min-width: 30em) {
  blockquote {
    padding-right: 5rem;
    padding-left: 1.25rem;
  }
}

img {
  display: block;
  max-width: 100%;
  margin: 0 0 1rem;
  border-radius: 5px;
}

/* Tables */
table {
  margin-bottom: 1rem;
  width: 100%;
  border: 1px solid #e5e5e5;
  border-collapse: collapse;
}
td,
th {
  padding: .25rem .5rem;
  border: 1px solid #e5e5e5;
}
tbody tr:nth-child(odd) td,
tbody tr:nth-child(odd) th {
  background-color: #f9f9f9;
}


/*
 * Custom type
 *
 * Extend paragraphs with `.lead` for larger introductory text.
 */

.lead {
  font-size: 1.25rem;
  font-weight: 300;
}


/*
 * Messages
 *
 * Show alert messages to users. You may add it to single elements like a `<p>`,
 * or to a parent if there are multiple elements to show.
 */

.message {
  margin-bottom: 1rem;
  padding: 1rem;
  color: #717171;
  background-color: #f9f9f9;
}


/*
 * Container
 *
 * Center the page content.
 */

.container {
  max-width: 38rem;
  padding-left:  1rem;
  padding-right: 1rem;
  margin-left:  auto;
  margin-right: auto;
}


/*
 * Masthead
 *
 * Super small header above the content for site name and short description.
 */

.masthead {
  padding-top:    1rem;
  padding-bottom: 1rem;
  margin-bottom: 3rem;
}
.masthead-title {
  margin-top: 0;
  margin-bottom: 0;
  color: #505050;
}
.masthead-title a {
  color: #505050;
}
.masthead-title small {
  font-size: 75%;
  font-weight: 400;
  color: #c0c0c0;
  letter-spacing: 0;
}


/*
 * Posts and pages
 *
 * Each post is wrapped in `.post` and is used on default and post layouts. Each
 * page is wrapped in `.page` and is only used on the page layout.
 */

.page,
.post {
  margin-bottom: 4em;
}

/* Blog post or page title */
.page-title,
.post-title,
.post-title a {
  color: #303030;
}
.page-title,
.post-title {
  margin-top: 0;
}

/* Meta data line below post title */
.post-date {
  display: block;
  margin-top: -.5rem;
  margin-bottom: 1rem;
  color: #9a9a9a;
}

/* Related posts */
.related {
  padding-top: 2rem;
  padding-bottom: 2rem;
  border-top: 1px solid #eee;
}
.related-posts {
  padding-left: 0;
  list-style: none;
}
.related-posts h3 {
  margin-top: 0;
}
.related-posts li small {
  font-size: 75%;
  color: #999;
}
.related-posts li a:hover {
  color: #268bd2;
  text-decoration: none;
}
.related-posts li a:hover small {
  color: inherit;
}


/*
 * Pagination
 *
 * Super lightweight (HTML-wise) blog pagination. `span`s are provide for when
 * there are no more previous or next posts to show.
 */

.pagination {
  overflow: hidden; /* clearfix */
  margin-left: -1rem;
  margin-right: -1rem;
  font-family: "PT Sans", Helvetica, Arial, sans-serif;
  color: #ccc;
  text-align: center;
}

/* Pagination items can be `span`s or `a`s */
.pagination-item {
  display: block;
  padding: 1rem;
  border: 1px solid #eee;
}
.pagination-item:first-child {
  margin-bottom: -1px;
}

/* Only provide a hover state for linked pagination items */
a.pagination-item:hover {
  background-color: #f5f5f5;
}

@media (min-width: 30em) {
  .pagination {
    margin: 3rem 0;
  }
  .pagination-item {
    float: left;
    width: 50%;
  }
  .pagination-item:first-child {
    margin-bottom: 0;
    border-top-left-radius:    4px;
    border-bottom-left-radius: 4px;
  }
  .pagination-item:last-child {
    margin-left: -1px;
    border-top-right-radius:    4px;
    border-bottom-right-radius: 4px;
  }
}
Õ_.http://xiangwangfeng.com/public/css/syntax.cssO£bplist00ÔklX$versionX$objectsY$archiverT$top † ¯ #)*0123MNOPQRSTUVWXYZ[\]^_`aefU$nullİ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_.http://xiangwangfeng.com/public/css/syntax.cssÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¿˜G!kH ÈÓ456ALWNS.keysZNS.objectsª789:;<=>?@€	€
€€€€€€€€ªBCDEFGHIJK€€€€€€€€€€€VServer\Content-TypeWExpires]Last-Modified_Transfer-EncodingTDate_Content-Encoding_X-GitHub-Request-Id]Cache-Control_Access-Control-Allow-OriginZGitHub.com_text/css; charset=utf-8_Thu, 19 Oct 2017 02:45:23 GMT_Tue, 17 Oct 2017 05:27:12 GMTXIdentity_Thu, 19 Oct 2017 02:35:23 GMTTgzip_#10D0:16E9:D9F2A14:1466634F:59E80F6B[max-age=600Q*Ò+,bc_NSMutableDictionary£bd/\NSDictionaryXtext/cssÒ+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑmn_WebResourceResponse€    # - 2 7 Z ` { ~ ‚ … ˆ ‹  ’ ™ œ Ÿ ¢ ¥ ¨ ª ¬ ® ° ² ³ µ · ¹ » ½ ¿ Á È Ğ Ü Ş à â#,25>GIKRZeprtvxz|~€‚„‘“•—™›Ÿ¡£¥¬¹ÁÏãèû=Hb‚¢«ËĞö	#09>RVjxŠ£             o              ¥O—.highlight .hll { background-color: #ffc; }
.highlight .c { color: #999; } /* Comment */
.highlight .err { color: #a00; background-color: #faa } /* Error */
.highlight .k { color: #069; } /* Keyword */
.highlight .o { color: #555 } /* Operator */
.highlight .cm { color: #09f; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #099 } /* Comment.Preproc */
.highlight .c1 { color: #999; } /* Comment.Single */
.highlight .cs { color: #999; } /* Comment.Special */
.highlight .gd { background-color: #fcc; border: 1px solid #c00 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #f00 } /* Generic.Error */
.highlight .gh { color: #030; } /* Generic.Heading */
.highlight .gi { background-color: #cfc; border: 1px solid #0c0 } /* Generic.Inserted */
.highlight .go { color: #aaa } /* Generic.Output */
.highlight .gp { color: #009; } /* Generic.Prompt */
.highlight .gs { } /* Generic.Strong */
.highlight .gu { color: #030; } /* Generic.Subheading */
.highlight .gt { color: #9c6 } /* Generic.Traceback */
.highlight .kc { color: #069; } /* Keyword.Constant */
.highlight .kd { color: #069; } /* Keyword.Declaration */
.highlight .kn { color: #069; } /* Keyword.Namespace */
.highlight .kp { color: #069 } /* Keyword.Pseudo */
.highlight .kr { color: #069; } /* Keyword.Reserved */
.highlight .kt { color: #078; } /* Keyword.Type */
.highlight .m { color: #f60 } /* Literal.Number */
.highlight .s { color: #d44950 } /* Literal.String */
.highlight .na { color: #4f9fcf } /* Name.Attribute */
.highlight .nb { color: #366 } /* Name.Builtin */
.highlight .nc { color: #0a8; } /* Name.Class */
.highlight .no { color: #360 } /* Name.Constant */
.highlight .nd { color: #99f } /* Name.Decorator */
.highlight .ni { color: #999; } /* Name.Entity */
.highlight .ne { color: #c00; } /* Name.Exception */
.highlight .nf { color: #c0f } /* Name.Function */
.highlight .nl { color: #99f } /* Name.Label */
.highlight .nn { color: #0cf; } /* Name.Namespace */
.highlight .nt { color: #2f6f9f; } /* Name.Tag */
.highlight .nv { color: #033 } /* Name.Variable */
.highlight .ow { color: #000; } /* Operator.Word */
.highlight .w { color: #bbb } /* Text.Whitespace */
.highlight .mf { color: #f60 } /* Literal.Number.Float */
.highlight .mh { color: #f60 } /* Literal.Number.Hex */
.highlight .mi { color: #f60 } /* Literal.Number.Integer */
.highlight .mo { color: #f60 } /* Literal.Number.Oct */
.highlight .sb { color: #c30 } /* Literal.String.Backtick */
.highlight .sc { color: #c30 } /* Literal.String.Char */
.highlight .sd { color: #c30; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #c30 } /* Literal.String.Double */
.highlight .se { color: #c30; } /* Literal.String.Escape */
.highlight .sh { color: #c30 } /* Literal.String.Heredoc */
.highlight .si { color: #a00 } /* Literal.String.Interpol */
.highlight .sx { color: #c30 } /* Literal.String.Other */
.highlight .sr { color: #3aa } /* Literal.String.Regex */
.highlight .s1 { color: #c30 } /* Literal.String.Single */
.highlight .ss { color: #fc3 } /* Literal.String.Symbol */
.highlight .bp { color: #366 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #033 } /* Name.Variable.Class */
.highlight .vg { color: #033 } /* Name.Variable.Global */
.highlight .vi { color: #033 } /* Name.Variable.Instance */
.highlight .il { color: #f60 } /* Literal.Number.Integer.Long */

.css .o,
.css .o + .nt,
.css .nt + .nt { color: #999; }
Õ_.http://xiangwangfeng.com/public/css/lanyon.cssO£bplist00ÔklX$versionX$objectsY$archiverT$top † ¯ #)*0123MNOPQRSTUVWXYZ[\]^_`aefU$nullİ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_.http://xiangwangfeng.com/public/css/lanyon.cssÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¿˜G!vŸ ÈÓ456ALWNS.keysZNS.objectsª789:;<=>?@€	€
€€€€€€€€ªBCDEFGHIJK€€€€€€€€€€€VServer\Content-TypeWExpires]Last-Modified_Transfer-EncodingTDate_Content-Encoding_X-GitHub-Request-Id]Cache-Control_Access-Control-Allow-OriginZGitHub.com_text/css; charset=utf-8_Thu, 19 Oct 2017 02:45:23 GMT_Tue, 17 Oct 2017 05:27:12 GMTXIdentity_Thu, 19 Oct 2017 02:35:23 GMTTgzip_#80A0:16E9:D9F2A15:14666351:59E80F6B[max-age=600Q*Ò+,bc_NSMutableDictionary£bd/\NSDictionaryXtext/cssÒ+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑmn_WebResourceResponse€    # - 2 7 Z ` { ~ ‚ … ˆ ‹  ’ ™ œ Ÿ ¢ ¥ ¨ ª ¬ ® ° ² ³ µ · ¹ » ½ ¿ Á È Ğ Ü Ş à â#,25>GIKRZeprtvxz|~€‚„‘“•—™›Ÿ¡£¥¬¹ÁÏãèû=Hb‚¢«ËĞö	#09>RVjxŠ£             o              ¥O-l/*
 *  ___
 * /\_ \
 * \//\ \      __      ___   __  __    ___     ___
 *   \ \ \   /'__`\  /' _ `\/\ \/\ \  / __`\ /' _ `\
 *    \_\ \_/\ \_\.\_/\ \/\ \ \ \_\ \/\ \_\ \/\ \/\ \
 *    /\____\ \__/.\_\ \_\ \_\/`____ \ \____/\ \_\ \_\
 *    \/____/\/__/\/_/\/_/\/_/`/___/> \/___/  \/_/\/_/
 *                               /\___/
 *                               \/__/
 *
 * Designed, built, and released under MIT license by @mdo. Learn more at
 * https://github.com/poole/lanyon.
 */


/*
 * Contents
 *
 * Global resets
 * Masthead
 * Sidebar
 * Slide effect
 * Posts and pages
 * Pagination
 * Reverse layout
 * Themes
 */


/*
 * Global resets
 *
 * Update the foundational and global aspects of the page.
 */

/* Prevent scroll on narrow devices */
html,
body {
  overflow-x: hidden;
}

html {
  font-family: "PT Serif", Georgia, "Times New Roman", serif;
}

h1, h2, h3, h4, h5, h6 {
  font-family: "PT Sans", Helvetica, Arial, sans-serif;
  font-weight: 400;
  color: #313131;
  letter-spacing: -.025rem;
}


/*
 * Wrapper
 *
 * The wrapper is used to position site content when the sidebar is toggled. We
 * use an outter wrap to position the sidebar without interferring with the
 * regular page content.
 */

.wrap {
  position: relative;
  width: 100%;
}


/*
 * Container
 *
 * Center the page content.
 */

.container {
  max-width: 28rem;
}
@media (min-width: 38em) {
  .container {
    max-width: 32rem;
  }
}
@media (min-width: 56em) {
  .container {
    max-width: 48rem;
  }
}


/*
 * Masthead
 *
 * Super small header above the content for site name and short description.
 */

.masthead {
  padding-top:    1rem;
  padding-bottom: 1rem;
  margin-bottom: 3rem;
  border-bottom: 1px solid #eee;
}
.masthead-title {
  margin-top: 0;
  margin-bottom: 0;
  color: #505050;
}
.masthead-title a {
  color: #505050;
}
.masthead-title small {
  font-size: 75%;
  font-weight: 400;
  color: #c0c0c0;
  letter-spacing: 0;
}

@media (max-width: 48em) {
  .masthead-title {
    text-align: center;
  }
  .masthead-title small {
    display: none;
  }
}


/*
 * Sidebar
 *
 * The sidebar is the drawer, the item we are toggling with our handy hamburger
 * button in the corner of the page.
 *
 * This particular sidebar implementation was inspired by Chris Coyier's
 * "Offcanvas Menu with CSS Target" article, and the checkbox variation from the
 * comments by a reader. It modifies both implementations to continue using the
 * checkbox (no change in URL means no polluted browser history), but this uses
 * `position` for the menu to avoid some potential content reflow issues.
 *
 * Source: http://css-tricks.com/off-canvas-menu-with-css-target/#comment-207504
 */

/* Style and "hide" the sidebar */
.sidebar {
  position: fixed;
  top: 0;
  bottom: 0;
  left: -14rem;
  width: 14rem;
  visibility: hidden;
  overflow-y: auto;
  font-family: "PT Sans", Helvetica, Arial, sans-serif;
  font-size: .875rem; /* 15px */
  color: rgba(255,255,255,.6);
  background-color: #202020;
  -webkit-transition: all .3s ease-in-out;
          transition: all .3s ease-in-out;
}
@media (min-width: 30em) {
  .sidebar {
    font-size: .75rem; /* 14px */
  }
}

/* Sidebar content */
.sidebar a {
  font-weight: normal;
  color: #fff;
}
.sidebar-item {
  padding: 1rem;
}
.sidebar-item p:last-child {
  margin-bottom: 0;
}

/* Sidebar nav */
.sidebar-nav {
  border-bottom: 1px solid rgba(255,255,255,.1);
}
.sidebar-nav-item {
  display: block;
  padding: .5rem 1rem;
  border-top: 1px solid rgba(255,255,255,.1);
}
.sidebar-nav-item.active,
a.sidebar-nav-item:hover,
a.sidebar-nav-item:focus {
  text-decoration: none;
  background-color: rgba(255,255,255,.1);
  border-color: transparent;
}

@media (min-width: 48em) {
  .sidebar-item {
    padding: 1.5rem;
  }
  .sidebar-nav-item {
    padding-left:  1.5rem;
    padding-right: 1.5rem;
  }
}

/* Hide the sidebar checkbox that we toggle with `.sidebar-toggle` */
.sidebar-checkbox {
  display: none;
}

/* Style the `label` that we use to target the `.sidebar-checkbox` */
.sidebar-toggle {
  position: absolute;
  top:  1rem;
  left: 1rem;
  display: block;
  width: 2.2rem;
  padding: .5rem .65rem;
  color: #505050;
  background-color: #fff;
  border-radius: 4px;
  cursor: pointer;
}
.sidebar-toggle:before {
  display: block;
  content: "";
  width: 100%;
  padding-bottom: .125rem;
  border-top: .375rem double;
  border-bottom: .125rem solid;

  /* Make the border inside the box */
  -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
          box-sizing: border-box;
}

.sidebar-toggle:active,
#sidebar-checkbox:checked ~ .sidebar-toggle {
  color: #fff;
  background-color: #505050;
}

@media (min-width: 30.1em) {
  .sidebar-toggle {
    position: fixed;
    width: 2.25rem;
  }
  .sidebar-toggle:before {
    padding-bottom: .15rem;
    border-top-width: .45rem;
    border-bottom-width: .15rem;
  }
}


/* Slide effect
 *
 * Handle the sliding effects of the sidebar and content in one spot, seperate
 * from the default styles.
 *
 * As an a heads up, we don't use `transform: translate3d()` here because when
 * mixed with `position: fixed;` for the sidebar toggle, it creates a new
 * containing block. Put simply, the fixed sidebar toggle behaves like
 * `position: absolute;` when transformed.
 *
 * Read more about it at http://meyerweb.com/eric/thoughts/2011/09/12/.
 */

.wrap,
.sidebar,
.sidebar-toggle {
  -webkit-backface-visibility: hidden;
      -ms-backface-visibility: hidden;
          backface-visibility: hidden;
}
.wrap,
.sidebar-toggle {
  -webkit-transition: -webkit-transform .3s ease-in-out;
          transition: transform .3s ease-in-out;
}

#sidebar-checkbox:checked + .sidebar {
  z-index: 10;
  visibility: visible;
}
#sidebar-checkbox:checked ~ .sidebar,
#sidebar-checkbox:checked ~ .wrap,
#sidebar-checkbox:checked ~ .sidebar-toggle {
  -webkit-transform: translateX(14rem);
      -ms-transform: translateX(14rem);
          transform: translateX(14rem);
}


/*
 * Posts and pages
 *
 * Each post is wrapped in `.post` and is used on default and post layouts. Each
 * page is wrapped in `.page` and is only used on the page layout.
 */

.page,
.post {
  margin-bottom: 4em;
}

/* Blog post or page title */
.page-title,
.post-title,
.post-title a {
  color: #303030;
}
.page-title,
.post-title {
  margin-top: 0;
}

/* Meta data line below post title */
.post-date {
  display: block;
  margin-top: -.5rem;
  margin-bottom: 1rem;
  color: #9a9a9a;
}

/* Related posts */
.related {
  padding-top: 2rem;
  padding-bottom: 2rem;
  border-top: 1px solid #eee;
}
.related-posts {
  padding-left: 0;
  list-style: none;
}
.related-posts h3 {
  margin-top: 0;
}
.related-posts li small {
  font-size: 75%;
  color: #999;
}
.related-posts li a:hover {
  color: #268bd2;
  text-decoration: none;
}
.related-posts li a:hover small {
  color: inherit;
}


/*
 * Pagination
 *
 * Super lightweight (HTML-wise) blog pagination. `span`s are provide for when
 * there are no more previous or next posts to show.
 */

.pagination {
  overflow: hidden; /* clearfix */
  margin-left: -1rem;
  margin-right: -1rem;
  font-family: "PT Sans", Helvetica, Arial, sans-serif;
  color: #ccc;
  text-align: center;
}

/* Pagination items can be `span`s or `a`s */
.pagination-item {
  display: block;
  padding: 1rem;
  border: 1px solid #eee;
}
.pagination-item:first-child {
  margin-bottom: -1px;
}

/* Only provide a hover state for linked pagination items */
a.pagination-item:hover {
  background-color: #f5f5f5;
}

@media (min-width: 30em) {
  .pagination {
    margin: 3rem 0;
  }
  .pagination-item {
    float: left;
    width: 50%;
  }
  .pagination-item:first-child {
    margin-bottom: 0;
    border-top-left-radius:    4px;
    border-bottom-left-radius: 4px;
  }
  .pagination-item:last-child {
    margin-left: -1px;
    border-top-right-radius:    4px;
    border-bottom-right-radius: 4px;
  }
}


/*
 * Reverse layout
 *
 * Flip the orientation of the page by placing the `.sidebar` and sidebar toggle
 * on the right side.
 */

.layout-reverse .sidebar {
  left: auto;
  right: -14rem;
}
.layout-reverse .sidebar-toggle {
  left: auto;
  right: 1rem;
}

.layout-reverse #sidebar-checkbox:checked ~ .sidebar,
.layout-reverse #sidebar-checkbox:checked ~ .wrap,
.layout-reverse #sidebar-checkbox:checked ~ .sidebar-toggle {
  -webkit-transform: translateX(-14rem);
      -ms-transform: translateX(-14rem);
          transform: translateX(-14rem);
}


/*
 * Themes
 *
 * Apply custom color schemes by adding the appropriate class to the `body`.
 * Based on colors from Base16: http://chriskempson.github.io/base16/#default.
 */

/* Red */
.theme-base-08 .sidebar,
.theme-base-08 .sidebar-toggle:active,
.theme-base-08 #sidebar-checkbox:checked ~ .sidebar-toggle {
  background-color: #ac4142;
}
.theme-base-08 .container a,
.theme-base-08 .sidebar-toggle,
.theme-base-08 .related-posts li a:hover {
  color: #ac4142;
}

/* Orange */
.theme-base-09 .sidebar,
.theme-base-09 .sidebar-toggle:active,
.theme-base-09 #sidebar-checkbox:checked ~ .sidebar-toggle {
  background-color: #d28445;
}
.theme-base-09 .container a,
.theme-base-09 .sidebar-toggle,
.theme-base-09 .related-posts li a:hover {
  color: #d28445;
}

/* Yellow */
.theme-base-0a .sidebar,
.theme-base-0a .sidebar-toggle:active,
.theme-base-0a #sidebar-checkbox:checked ~ .sidebar-toggle {
  background-color: #f4bf75;
}
.theme-base-0a .container a,
.theme-base-0a .sidebar-toggle,
.theme-base-0a .related-posts li a:hover {
  color: #f4bf75;
}

/* Green */
.theme-base-0b .sidebar,
.theme-base-0b .sidebar-toggle:active,
.theme-base-0b #sidebar-checkbox:checked ~ .sidebar-toggle {
  background-color: #90a959;
}
.theme-base-0b .container a,
.theme-base-0b .sidebar-toggle,
.theme-base-0b .related-posts li a:hover {
  color: #90a959;
}

/* Cyan */
.theme-base-0c .sidebar,
.theme-base-0c .sidebar-toggle:active,
.theme-base-0c #sidebar-checkbox:checked ~ .sidebar-toggle {
  background-color: #75b5aa;
}
.theme-base-0c .container a,
.theme-base-0c .sidebar-toggle,
.theme-base-0c .related-posts li a:hover {
  color: #75b5aa;
}

/* Blue */
.theme-base-0d .sidebar,
.theme-base-0d .sidebar-toggle:active,
.theme-base-0d #sidebar-checkbox:checked ~ .sidebar-toggle {
  background-color: #6a9fb5;
}
.theme-base-0d .container a,
.theme-base-0d .sidebar-toggle,
.theme-base-0d .related-posts li a:hover {
  color: #6a9fb5;
}

/* Magenta */
.theme-base-0e .sidebar,
.theme-base-0e .sidebar-toggle:active,
.theme-base-0e #sidebar-checkbox:checked ~ .sidebar-toggle {
  background-color: #aa759f;
}
.theme-base-0e .container a,
.theme-base-0e .sidebar-toggle,
.theme-base-0e .related-posts li a:hover {
  color: #aa759f;
}

/* Brown */
.theme-base-0f .sidebar,
.theme-base-0f .sidebar-toggle:active,
.theme-base-0f #sidebar-checkbox:checked ~ .sidebar-toggle {
  background-color: #8f5536;
}
.theme-base-0f .container a,
.theme-base-0f .sidebar-toggle,
.theme-base-0f .related-posts li a:hover {
  color: #8f5536;
}


/*
 * Overlay sidebar
 *
 * Make the sidebar content overlay the viewport content instead of pushing it
 * aside when toggled.
 */

.sidebar-overlay #sidebar-checkbox:checked ~ .wrap {
  -webkit-transform: translateX(0);
      -ms-transform: translateX(0);
          transform: translateX(0);
}
.sidebar-overlay #sidebar-checkbox:checked ~ .sidebar-toggle {
  box-shadow: 0 0 0 .25rem #fff;
}
.sidebar-overlay #sidebar-checkbox:checked ~ .sidebar {
  box-shadow: .25rem 0 .5rem rgba(0,0,0,.1);
}

/* Only one tweak for a reverse layout */
.layout-reverse.sidebar-overlay #sidebar-checkbox:checked ~ .sidebar {
  box-shadow: -.25rem 0 .5rem rgba(0,0,0,.1);
}
Õ !_Mhttp://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400OÁbplist00ÔnoX$versionX$objectsY$archiverT$top † ¯!#)*0123OPQRSTUVWXYZ[\]^_`abcdhiU$nullİ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ € €€€Ó$%'(WNS.base[NS.relative€ €€_Ohttp://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400Ò+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¿˜G!‡U ÈÓ456BNWNS.keysZNS.objects«789:;<=>?@A€	€
€€€€€€€€€«CDEFGHIJKLG€€€€€€€€€€€€VServer\Content-TypeWExpires_Transfer-Encoding_Timing-Allow-OriginTDate_X-Frame-Options_Content-Encoding_X-XSS-Protection]Cache-Control_Access-Control-Allow-OriginSESF_text/css; charset=utf-8_Thu, 19 Oct 2017 02:35:22 GMTXIdentityQ*_Thu, 19 Oct 2017 02:35:22 GMTZSAMEORIGINTgzip]1; mode=block_private, max-age=86400Ò+,ef_NSMutableDictionary£eg/\NSDictionaryXtext/cssÒ+,jk_NSHTTPURLResponse£lm/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑpq_WebResourceResponse€    # - 2 7 [ a |  ƒ † ‰ Œ  “ š    £ ¦ © « ­ ¯ ± ³ ´ ¶ ¸ º ¼ ¾ À Â É Ñ İ ß á ã5:ENTW`ikmt|‡“•—™›Ÿ¡£¥§©µ·¹»½¿ÁÃÅÇÉËÍÔáéı*=P^|€šºÃÅåğõ!7;HQVjn‚¢¥»             r              ½OÄ/* cyrillic-ext */
@font-face {
  font-family: 'PT Sans';
  font-style: normal;
  font-weight: 400;
  src: local('PT Sans'), local('PTSans-Regular'), url(http://fonts.gstatic.com/s/ptsans/v9/fhNmDCnjccoUYyU4ZASaLVKPGs1ZzpMvnHX-7fPOuAc.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
/* cyrillic */
@font-face {
  font-family: 'PT Sans';
  font-style: normal;
  font-weight: 400;
  src: local('PT Sans'), local('PTSans-Regular'), url(http://fonts.gstatic.com/s/ptsans/v9/BJVWev7_auVaQ__OU8Qih1KPGs1ZzpMvnHX-7fPOuAc.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* latin-ext */
@font-face {
  font-family: 'PT Sans';
  font-style: normal;
  font-weight: 400;
  src: local('PT Sans'), local('PTSans-Regular'), url(http://fonts.gstatic.com/s/ptsans/v9/oysROHFTu1eTZ74Hcf8V-VKPGs1ZzpMvnHX-7fPOuAc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'PT Sans';
  font-style: normal;
  font-weight: 400;
  src: local('PT Sans'), local('PTSans-Regular'), url(http://fonts.gstatic.com/s/ptsans/v9/CWlc_g68BGYDSGdpJvpktgLUuEpTyoUstqEm5AMlJo4.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
/* cyrillic-ext */
@font-face {
  font-family: 'PT Serif';
  font-style: italic;
  font-weight: 400;
  src: local('PT Serif Italic'), local('PTSerif-Italic'), url(http://fonts.gstatic.com/s/ptserif/v9/O_WhD9hODL16N4KLHLX7xQsYbbCjybiHxArTLjt7FRU.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
/* cyrillic */
@font-face {
  font-family: 'PT Serif';
  font-style: italic;
  font-weight: 400;
  src: local('PT Serif Italic'), local('PTSerif-Italic'), url(http://fonts.gstatic.com/s/ptserif/v9/3Nwg9VzlwLXPq3fNKwVRMAsYbbCjybiHxArTLjt7FRU.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* latin-ext */
@font-face {
  font-family: 'PT Serif';
  font-style: italic;
  font-weight: 400;
  src: local('PT Serif Italic'), local('PTSerif-Italic'), url(http://fonts.gstatic.com/s/ptserif/v9/b31S45a_TNgaBApZhTgE6AsYbbCjybiHxArTLjt7FRU.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'PT Serif';
  font-style: italic;
  font-weight: 400;
  src: local('PT Serif Italic'), local('PTSerif-Italic'), url(http://fonts.gstatic.com/s/ptserif/v9/03aPdn7fFF3H6ngCgAlQzAzyDMXhdD8sAj6OAJTFsBI.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
/* cyrillic-ext */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-weight: 400;
  src: local('PT Serif'), local('PTSerif-Regular'), url(http://fonts.gstatic.com/s/ptserif/v9/5hX15RUpPERmeybVlLQEWBkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
/* cyrillic */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-weight: 400;
  src: local('PT Serif'), local('PTSerif-Regular'), url(http://fonts.gstatic.com/s/ptserif/v9/fU0HAfLiPHGlZhZpY6M7dBkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* latin-ext */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-weight: 400;
  src: local('PT Serif'), local('PTSerif-Regular'), url(http://fonts.gstatic.com/s/ptserif/v9/CPRt--GVMETgA6YEaoGitxkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-weight: 400;
  src: local('PT Serif'), local('PTSerif-Regular'), url(http://fonts.gstatic.com/s/ptserif/v9/I-OtoJZa3TeyH6D9oli3iXYhjbSpvc47ee6xR_80Hnw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
/* cyrillic-ext */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-weight: 700;
  src: local('PT Serif Bold'), local('PTSerif-Bold'), url(http://fonts.gstatic.com/s/ptserif/v9/QABk9IxT-LFTJ_dQzv7xpPZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
/* cyrillic */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-weight: 700;
  src: local('PT Serif Bold'), local('PTSerif-Bold'), url(http://fonts.gstatic.com/s/ptserif/v9/QABk9IxT-LFTJ_dQzv7xpF4sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* latin-ext */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-weight: 700;
  src: local('PT Serif Bold'), local('PTSerif-Bold'), url(http://fonts.gstatic.com/s/ptserif/v9/QABk9IxT-LFTJ_dQzv7xpKE8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'PT Serif';
  font-style: normal;
  font-weight: 700;
  src: local('PT Serif Bold'), local('PTSerif-Bold'), url(http://fonts.gstatic.com/s/ptserif/v9/QABk9IxT-LFTJ_dQzv7xpIgp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
    1 < R p  – ¨ ² ¸%&jLjQj\jrj{jj±oVŠ*Š5Šfœ¨œ³œä¡‹ÎûÏÏVÔ             "              éã